<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD 代码生成器</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="icon">⚡</div>
            <h1>CRUD 代码生成器</h1>
            <p class="subtitle">快速生成增删改查代码</p>
        </div>

        <div class="main-content">
            <!-- 步骤指示器 -->
            <div class="steps-indicator">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">连接数据库</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">选择表</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">生成代码</div>
                </div>
            </div>

            <!-- 表单区域 -->
            <div class="form-container">
                <!-- 步骤1: 数据库连接 -->
                <div class="step-content active" id="step1">
                    <h2>数据库连接</h2>
                    <form id="connectionForm">
                        <div class="form-group">
                            <label for="dbUrl">连接地址 *</label>
                            <input type="text" id="dbUrl" name="dbUrl" placeholder="例如: jdbc:mysql://localhost:3306" value="jdbc:mysql://localhost:3306" required>
                            <span class="hint">MySQL 连接地址（不包含数据库名）</span>
                        </div>

                        <div class="form-group">
                            <label for="dbUsername">用户名 *</label>
                            <input type="text" id="dbUsername" name="dbUsername" placeholder="例如: root" value="root" required>
                        </div>

                        <div class="form-group">
                            <label for="dbPassword">密码</label>
                            <input type="password" id="dbPassword" name="dbPassword" placeholder="请输入数据库密码">
                        </div>

                        <button type="button" class="btn-primary" id="connectBtn">
                            🔌 连接数据库
                        </button>
                    </form>
                </div>

                <!-- 步骤2: 选择数据库和表 -->
                <div class="step-content" id="step2">
                    <h2>选择数据库和表</h2>
                    
                    <div class="form-group">
                        <label for="databaseName">选择数据库 *</label>
                        <div class="custom-select">
                            <div class="custom-select-input" id="databaseName" tabindex="0" contenteditable="true"></div>
                            <div class="custom-select-arrow">▼</div>
                            <div class="custom-select-dropdown" id="databaseDropdown"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="tableName">选择表 *</label>
                        <div class="custom-select">
                            <div class="custom-select-input" id="tableName" tabindex="0" contenteditable="true"></div>
                            <div class="custom-select-arrow">▼</div>
                            <div class="custom-select-dropdown" id="tableDropdown"></div>
                        </div>
                    </div>

                    <div class="form-navigation">
                        <button type="button" class="btn-secondary" id="backToStep1">上一步</button>
                        <button type="button" class="btn-primary" id="nextToStep3">下一步</button>
                    </div>
                </div>

                <!-- 步骤3: 配置生成参数 -->
                <div class="step-content" id="step3">
                    <h2>配置生成参数</h2>
                    
                    <div class="form-group">
                        <label for="packageName">包名 *</label>
                        <input type="text" id="packageName" name="packageName" placeholder="例如: com.example.user" required>
                        <span class="hint" id="packageHint">根据表名自动生成包名</span>
                    </div>

                    <div class="form-group">
                        <label for="outputDir">输出压缩文件名 *</label>
                        <input type="text" id="outputDir" name="outputDir" placeholder="例如: generated-code" value="generated-code" required>
                        <span class="hint">代码压缩包将以该文件名进行命名</span>
                    </div>

                    <div class="form-navigation">
                        <button type="button" class="btn-secondary" id="backToStep2">上一步</button>
                        <button type="button" class="btn-primary" id="generateBtn">🚀 开始生成代码</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 结果显示区域 -->
        <div class="result-container" id="resultContainer" style="display: none;">
            <div class="result-content" id="resultContent"></div>
            <button type="button" class="btn-secondary" id="resetBtn">重新开始</button>
        </div>

        <!-- 加载状态 -->
        <div class="loading" id="loading" style="display: none;">
            <div class="spinner"></div>
            <p>正在处理，请稍候...</p>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>